[tox]
env_list = lint, typecheck, test

[testenv:lint]
deps = ruff
commands =
    ruff format --check .
    ruff check .

[testenv:typecheck]
deps =
    mypy
commands =
    mypy src/

[testenv:test]
deps =
    pytest
    pytest-timeout
commands =
    pytest -m "not integration" {posargs}

[testenv:integration]
deps =
    pytest
    pytest-timeout
commands =
    pytest -m integration {posargs}
