# ゲームルール詳細

## 1. ゲーム概要

LLM人狼は、1人の人間プレイヤーが4体のAIと人狼ゲームを行うWebアプリケーションです。

| 項目 | 内容 |
|------|------|
| プレイヤー数 | 5人（人間1 + AI4） |
| 役職構成 | 村人3、占い師1、人狼1（ランダム配役） |

## 2. 役職一覧と能力

| 役職 | 陣営 | 能力 |
|------|------|------|
| 村人 | 村人陣営 | 特殊能力なし。議論と投票で人狼を見つける |
| 占い師 | 村人陣営 | 毎晩1人を占い「人狼か否か」を知る |
| 人狼 | 人狼陣営 | 毎晩1人を襲撃して殺害する |

### 占い師の制約

- 自分自身は占えない
- 同じ人を複数回占えない
- 夜に襲撃されたら、その夜の占い結果は得られない

### 人狼の制約

- 自分自身は襲撃できない
- 他の人狼は襲撃できない（将来の複数人狼を考慮）
- 襲撃対象は自分・人狼以外の生存者

## 3. ゲームの流れ

ゲームは「昼フェーズ」と「夜フェーズ」を繰り返して進行します。

```
ゲーム開始（役職配布・番号決定）
  │
  ├─ Day 1（昼）: 議論（1巡） → 投票 → 処刑 → 勝利判定
  │
  ├─ Night 1（夜）: 人狼の襲撃 / 占い師の占い → 勝利判定
  │
  ├─ Day 2（昼）: 占い結果通知 → 議論（2巡） → 投票 → 処刑 → 勝利判定
  │
  ├─ Night 2（夜）: 人狼の襲撃 / 占い師の占い → 勝利判定
  │
  └─ ... 勝利条件を満たすまで繰り返し
```

### 初日の扱い

- Day 1 から通常通り議論・投票を行う（スキップしない）

### 発言ルール

| 項目 | 内容 |
|------|------|
| 発言巡数 | 1日目は1巡、2日目以降は2巡 |
| 発言順（初日） | ゲーム開始時にランダムで番号を決定 |
| 発言順（2日目以降） | 襲撃された人の次の番号から開始 |

### 占い結果の通知

- 占い結果は翌朝の議論開始前に占い師本人へ通知される

## 4. 投票ルール

| 項目 | 内容 |
|------|------|
| 投票方式 | 公開投票（誰が誰に投票したか全員に見える） |
| 自己投票 | 不可 |
| 棄権 | 不可（必ず誰かに投票する） |
| 同数時 | ランダム処刑（同票の候補者から抽選） |
| 処刑時の役職公開 | 公開しない |

## 5. 夜フェーズルール

### 襲撃（人狼）

- 人狼は生存者の中から1人を選んで襲撃する
- 自分自身・他の人狼は襲撃対象にできない

### 占い（占い師）

- 占い師は生存者の中から1人を選んで占う
- 占い結果（人狼か否か）は翌朝通知される
- 自分自身・過去に占った人は対象にできない
- 襲撃された場合、その夜の占い結果は得られない

## 6. 勝利条件

| 陣営 | 条件 |
|------|------|
| 村人陣営 | 人狼を処刑すれば勝利 |
| 人狼陣営 | 村人陣営の生存者が人狼の数以下になれば勝利 |

### 判定タイミング

- 昼フェーズの処刑後
- 夜フェーズの襲撃後

各フェーズ終了時に勝利条件を判定し、条件を満たしていればゲーム終了となる。

## 7. Mock版固有ルール

Step 1（Mock版）では以下のルールが適用される。

| 項目 | 内容 |
|------|------|
| AIの行動 | ランダム（投票・能力使用とも） |
| ユーザー発言の影響 | 投票のみ影響する。発言は記録するがAIの行動には影響しない |

Step 2 以降で AI の行動を LLM ベースに置き換える予定。
